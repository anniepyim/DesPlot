<html lang="en">
    <head>
        <title>MitoXplorer - Analysis</title>
        <meta charset=utf-8>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="./css/style.css" rel="stylesheet" >
        
        <script src="./js/jquery-1.12.4.min.js"></script>
        <link rel="icon" type="image/png" href="img/logos/favicon.png">
    </head>
    
    <body>
    <!-- Page Content -->
    <div class = "container" id="content">
        <!-- Page Content -->     
        <div class="container main">
                <div class = "col-md-2" id="sidebar">
                    <div style="font-size: 16px; font-weight: 700; text-align: center; margin-bottom: 10px">Gene Information</div>
                    <div id="rowtip1" class="row tip" style="margin-top:0px;"></div>
                    <div id="rowtip2" class="row tip" style="margin-top:0px;"></div>
                    <div class="col-md-12" id="warning" style="margin-top:10px">
                        </div>
                </div>
                <div class="col-md-10">
                    <div id = "svgs-all" class="col-md-12">
                    </div>   
                </div>
        </div>
    </div>        
    <script src="./js/DesPlot.js" ></script>
    <script>
        //In the full version, users are allowed to input their sample selection, while the database info is provided by mysql_info.json, which is read by the php script of the webpage

        // var json = ["RPE-21-3-c2","RPE-21-3-c1","RPE-21-3-c1-p","HCT116-5-4","HCT116-5-4-p"],
        //     sessionid = "test",
        //     organism = "Human",
        //     host = "localhost",
        //     port = "3306",
        //     user = "root",
        //     passwd = "",
        //     unix_socket = "/tmp/mysql.sock",
        //     upper_limit = 20,
        //     lower_limit = -20;

        // var parameter = 'jsons=' + JSON.stringify(json) + '&organism='+ organism +'&sessionid='+ sessionid + '&host='+host + '&port='+port + '&user='+user + '&passwd='+passwd + '&unix_socket='+unix_socket + '&lower_limit='+lower_limit + '&upper_limit='+upper_limit;

        // var pyScript = "./python/SP_mysql.py";
        
        var svg = "svgs-all";

        //Add loading gif here
        // var el = document.getElementById( svg );
        // while (el.hasChildNodes()) {el.removeChild(el.firstChild);}
        // var div = document.createElement('div');
        // div.setAttribute("align", "center");
        // div.innerHTML ='<img id="loading" src="./img/loading.gif">';
        // el.appendChild(div);
        
        function onError(res) {
            d3.select('#loading').remove();
            document.getElementById('warning').innerHTML="<font color=\"red\">"+res;
            throw new Error("Something went badly wrong!");
        }

        //DesPlot.init(json,parameter,svg,pyScript,onError);
        DesPlot.init(svg,onError);
 
    </script>
    </body>
</html>
